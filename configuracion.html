<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Configuraci贸n - POS Miscel谩nea Mary</title>
    <link rel="stylesheet" href="styles.css">
    <script type="module" src="configuracion.js"></script>
    <script type="module" src="seguridad.js"></script>
    <script src="responsive.js" defer></script>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>
    <button id="mobile-menu-btn" class="menu-btn">
        <span class="material-icons">menu</span>
    </button>

    <div id="overlay" class="overlay"></div>
    <div class="sidebar">
        <div class="logo">POS MISCELNEA MARY</div>
        <nav>
            <ul>
                <li><a href="ventas.html"><span class="material-icons">sell</span> Ventas</a></li>
                <li><a href="inventario.html"><span class="material-icons">inventory_2</span> Inventario</a></li>
                <li><a href="clientes.html"><span class="material-icons">groups</span> Clientes</a></li>
                <li><a href="proveedores.html"><span class="material-icons">local_shipping</span> Proveedores</a></li>
                <li><a href="reportes.html"><span class="material-icons">bar_chart</span> Reportes</a></li>
                <li><a href="configuracion.html" class="active"><span class="material-icons">settings</span> Configuraci贸n</a></li>
                <li><a href="#" onclick="logout()"><span class="material-icons">logout</span> Cerrar Sesi贸n</a></li>
            </ul>
        </nav>
    </div>

    <div class="main-content">
    <header>
        <h1>Configuraci贸n del Sistema</h1>
        <div class="user-info">
            <span>Usuario: Admin</span>
        </div>
    </header>

    <div class="settings-wrapper" style="max-width: 800px; margin: 0 auto;">
        
        <section class="settings-card" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
            <h2 style="border-bottom: 1px solid #eee; padding-bottom: 10px; margin-bottom: 15px;"> Identidad del Negocio</h2>
            <form id="identityForm">
                <label>Nombre de la Tienda:</label>
                <input type="text" id="storeName" placeholder="Ej: Miscel谩nea Mary" style="width: 100%; padding: 8px; margin-bottom: 10px;">
                
                <label>Direcci贸n:</label>
                <input type="text" id="storeAddress" placeholder="Direcci贸n completa" style="width: 100%; padding: 8px; margin-bottom: 10px;">
                
                <label>Mensaje pie de ticket:</label>
                <textarea id="ticketFooter" rows="2" style="width: 100%; padding: 8px;">隆Gracias por su compra!</textarea>
            </form>
        </section>

        <section class="settings-card" style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
            <h2 style="border-bottom: 1px solid #eee; padding-bottom: 10px; margin-bottom: 15px;">锔 Reglas de Operaci贸n</h2>
            <form id="rulesForm">
                <div style="display: flex; gap: 20px;">
                    <div style="flex: 1;">
                        <label>IVA / Impuesto (%):</label>
                        <input type="number" id="taxRate" placeholder="0" value="0" style="width: 100%; padding: 8px;">
                        <small style="color: #666;">Se usar谩 para c谩lculos internos.</small>
                    </div>
                    <div style="flex: 1;">
                        <label>Alerta de Stock Bajo:</label>
                        <input type="number" id="lowStockThreshold" placeholder="5" value="5" style="width: 100%; padding: 8px;">
                        <small style="color: #666;">Avisar cuando queden menos de X piezas.</small>
                    </div>
                </div>

                <div style="margin-top: 15px; display: flex; align-items: center; gap: 10px;">
                    <input type="checkbox" id="allowNegativeStock" style="width: 20px; height: 20px;">
                    <label for="allowNegativeStock" style="cursor: pointer; margin:0;">Permitir ventas con stock negativo</label>
                </div>
            </form>
        </section>

        <button id="saveSettingsBtn" class="checkout-btn" style="margin-bottom: 40px;">Guardar Toda la Configuraci贸n</button>


        <section class="settings-card" style="background: #fff3cd; padding: 20px; border-radius: 8px; border: 1px solid #ffeeba;">
            <h2 style="color: #856404; border-bottom: 1px solid #ffeeba; padding-bottom: 10px; margin-bottom: 15px;"> Gesti贸n de Datos</h2>
            <p style="margin-bottom: 15px;">Descarga una copia de seguridad de tus datos actuales.</p>
            
            <div style="display: flex; gap: 10px;">
                <button id="exportSalesBtn" class="checkout-btn" style="background-color: #17a2b8;">Exportar Ventas (JSON)</button>
                <button id="exportInventoryBtn" class="checkout-btn" style="background-color: #6c757d;">Exportar Inventario (JSON)</button>
            </div>
        </section>

    </div>
</div>
</body>
</html>
